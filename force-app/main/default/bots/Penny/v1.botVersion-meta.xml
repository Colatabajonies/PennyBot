<?xml version="1.0" encoding="UTF-8"?>
<BotVersion xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>v1</fullName>
    <botDialogGroups>
        <developerName>Contact_Setting</developerName>
        <label>Contact Setting</label>
    </botDialogGroups>
    <botDialogGroups>
        <developerName>Secrets</developerName>
        <label>Secrets</label>
    </botDialogGroups>
    <botDialogs>
        <botDialogGroup>Contact_Setting</botDialogGroup>
        <botSteps>
            <botSteps>
                <botVariableOperation>
                    <botVariableOperands>
                        <targetName>ContactCreated</targetName>
                        <targetType>ConversationVariable</targetType>
                    </botVariableOperands>
                    <type>Unset</type>
                </botVariableOperation>
                <type>VariableOperation</type>
            </botSteps>
            <botSteps>
                <botVariableOperation>
                    <botVariableOperands>
                        <targetName>Contact</targetName>
                        <targetType>ConversationVariable</targetType>
                    </botVariableOperands>
                    <type>Unset</type>
                </botVariableOperation>
                <type>VariableOperation</type>
            </botSteps>
            <botSteps>
                <botVariableOperation>
                    <botVariableOperands>
                        <targetName>strError</targetName>
                        <targetType>ConversationVariable</targetType>
                    </botVariableOperands>
                    <type>Unset</type>
                </botVariableOperation>
                <type>VariableOperation</type>
            </botSteps>
            <type>Group</type>
        </botSteps>
        <botSteps>
            <botVariableOperation>
                <botInvocation>
                    <invocationActionName>Penny_GetContact</invocationActionName>
                    <invocationActionType>apex</invocationActionType>
                    <invocationMappings>
                        <parameterName>contactId</parameterName>
                        <type>Input</type>
                        <variableName>ContactId</variableName>
                        <variableType>ContextVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>accountID</parameterName>
                        <type>Input</type>
                        <value>0012E00001pOc67QAC</value>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>sessionId</parameterName>
                        <type>Input</type>
                        <variableName>RoutableId</variableName>
                        <variableType>ContextVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>boolContactCreated</parameterName>
                        <type>Output</type>
                        <variableName>ContactCreated</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>objContact</parameterName>
                        <type>Output</type>
                        <variableName>Contact</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                </botInvocation>
                <type>Set</type>
            </botVariableOperation>
            <type>VariableOperation</type>
        </botSteps>
        <botSteps>
            <botStepConditions>
                <leftOperandName>ContactCreated</leftOperandName>
                <leftOperandType>ConversationVariable</leftOperandType>
                <operatorType>Equals</operatorType>
                <rightOperandValue>true</rightOperandValue>
            </botStepConditions>
            <botSteps>
                <botNavigation>
                    <botNavigationLinks>
                        <targetBotDialog>New_Contact</targetBotDialog>
                    </botNavigationLinks>
                    <type>Redirect</type>
                </botNavigation>
                <type>Navigation</type>
            </botSteps>
            <type>Group</type>
        </botSteps>
        <botSteps>
            <type>Wait</type>
        </botSteps>
        <developerName>Get_Contact</developerName>
        <label>Get Contact</label>
        <showInFooterMenu>false</showInFooterMenu>
    </botDialogs>
    <botDialogs>
        <botSteps>
            <botSteps>
                <botNavigation>
                    <botNavigationLinks>
                        <targetBotDialog>Get_Contact</targetBotDialog>
                    </botNavigationLinks>
                    <type>Call</type>
                </botNavigation>
                <type>Navigation</type>
            </botSteps>
            <type>Group</type>
        </botSteps>
        <botSteps>
            <botStepConditions>
                <leftOperandName>ContactCreated</leftOperandName>
                <leftOperandType>ConversationVariable</leftOperandType>
                <operatorType>Equals</operatorType>
                <rightOperandValue>false</rightOperandValue>
            </botStepConditions>
            <botSteps>
                <botNavigation>
                    <botNavigationLinks>
                        <targetBotDialog>Confused</targetBotDialog>
                    </botNavigationLinks>
                    <type>Redirect</type>
                </botNavigation>
                <type>Navigation</type>
            </botSteps>
            <type>Group</type>
        </botSteps>
        <botSteps>
            <type>Wait</type>
        </botSteps>
        <developerName>Welcome</developerName>
        <label>Welcome</label>
        <showInFooterMenu>false</showInFooterMenu>
    </botDialogs>
    <botDialogs>
        <botDialogGroup>Secrets</botDialogGroup>
        <botSteps>
            <botMessages>
                <message>Chris usually doesn&#39;t like me showing this secret menu, but I will for you...</message>
            </botMessages>
            <type>Message</type>
        </botSteps>
        <botSteps>
            <botNavigation>
                <botNavigationLinks>
                    <targetBotDialog>Maker</targetBotDialog>
                </botNavigationLinks>
                <botNavigationLinks>
                    <targetBotDialog>New_Contact</targetBotDialog>
                </botNavigationLinks>
                <botNavigationLinks>
                    <targetBotDialog>Transfer_To_Agent</targetBotDialog>
                </botNavigationLinks>
                <type>Redirect</type>
            </botNavigation>
            <type>Navigation</type>
        </botSteps>
        <developerName>Main_Menu</developerName>
        <label>Main Menu</label>
        <mlIntent>Main_Menu</mlIntent>
        <showInFooterMenu>false</showInFooterMenu>
    </botDialogs>
    <botDialogs>
        <botDialogGroup>Secrets</botDialogGroup>
        <botSteps>
            <botNavigation>
                <type>TransferToAgent</type>
            </botNavigation>
            <type>Navigation</type>
        </botSteps>
        <developerName>Transfer_To_Agent</developerName>
        <label>Transfer To Agent</label>
        <showInFooterMenu>false</showInFooterMenu>
    </botDialogs>
    <botDialogs>
        <botSteps>
            <botStepConditions>
                <leftOperandName>Contact</leftOperandName>
                <leftOperandType>ConversationVariable</leftOperandType>
                <operatorType>IsNotSet</operatorType>
            </botStepConditions>
            <botSteps>
                <botNavigation>
                    <botNavigationLinks>
                        <targetBotDialog>Get_Contact</targetBotDialog>
                    </botNavigationLinks>
                    <type>Call</type>
                </botNavigation>
                <type>Navigation</type>
            </botSteps>
            <type>Group</type>
        </botSteps>
        <botSteps>
            <botSteps>
                <botVariableOperation>
                    <botVariableOperands>
                        <targetName>strResponse</targetName>
                        <targetType>ConversationVariable</targetType>
                    </botVariableOperands>
                    <type>Unset</type>
                </botVariableOperation>
                <type>VariableOperation</type>
            </botSteps>
            <botSteps>
                <botVariableOperation>
                    <botVariableOperands>
                        <targetName>multiEngagement</targetName>
                        <targetType>ConversationVariable</targetType>
                    </botVariableOperands>
                    <type>Unset</type>
                </botVariableOperation>
                <type>VariableOperation</type>
            </botSteps>
            <botSteps>
                <botVariableOperation>
                    <botVariableOperands>
                        <targetName>strTransfer</targetName>
                        <targetType>ConversationVariable</targetType>
                    </botVariableOperands>
                    <type>Unset</type>
                </botVariableOperation>
                <type>VariableOperation</type>
            </botSteps>
            <type>Group</type>
        </botSteps>
        <botSteps>
            <botVariableOperation>
                <botInvocation>
                    <invocationActionName>Penny_ProcessResponse</invocationActionName>
                    <invocationActionType>apex</invocationActionType>
                    <invocationMappings>
                        <parameterName>objContact</parameterName>
                        <type>Input</type>
                        <variableName>Contact</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>QRecordTypeID</parameterName>
                        <type>Input</type>
                        <value>0122E000000xlXcQAI</value>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>strBotName</parameterName>
                        <type>Input</type>
                        <value>Penny</value>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>strEngagementId</parameterName>
                        <type>Input</type>
                        <value>0</value>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>strUtterance</parameterName>
                        <type>Input</type>
                        <variableName>_LastCustomerInput</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>multiEngagement</parameterName>
                        <type>Output</type>
                        <variableName>multiEngagement</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>strResponse</parameterName>
                        <type>Output</type>
                        <variableName>strResponse</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>transfer</parameterName>
                        <type>Output</type>
                        <variableName>strTransfer</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                </botInvocation>
                <type>Set</type>
            </botVariableOperation>
            <type>VariableOperation</type>
        </botSteps>
        <botSteps>
            <botStepConditions>
                <leftOperandName>multiEngagement</leftOperandName>
                <leftOperandType>ConversationVariable</leftOperandType>
                <operatorType>Equals</operatorType>
                <rightOperandValue>true</rightOperandValue>
            </botStepConditions>
            <botSteps>
                <botNavigation>
                    <botNavigationLinks>
                        <targetBotDialog>Process_Multi_Engagement</targetBotDialog>
                    </botNavigationLinks>
                    <type>Redirect</type>
                </botNavigation>
                <type>Navigation</type>
            </botSteps>
            <type>Group</type>
        </botSteps>
        <botSteps>
            <botMessages>
                <message>{!strResponse}</message>
            </botMessages>
            <type>Message</type>
        </botSteps>
        <botSteps>
            <botStepConditions>
                <leftOperandName>strTransfer</leftOperandName>
                <leftOperandType>ConversationVariable</leftOperandType>
                <operatorType>Equals</operatorType>
                <rightOperandValue>1</rightOperandValue>
            </botStepConditions>
            <botSteps>
                <botNavigation>
                    <botNavigationLinks>
                        <targetBotDialog>Transfer_To_Agent</targetBotDialog>
                    </botNavigationLinks>
                    <type>Redirect</type>
                </botNavigation>
                <type>Navigation</type>
            </botSteps>
            <type>Group</type>
        </botSteps>
        <botSteps>
            <type>Wait</type>
        </botSteps>
        <developerName>Confused</developerName>
        <label>Process Response</label>
        <showInFooterMenu>false</showInFooterMenu>
    </botDialogs>
    <botDialogs>
        <botDialogGroup>Secrets</botDialogGroup>
        <botSteps>
            <botMessages>
                <message>I came online on March 12, 2019, by my maker: Chris Gilmore</message>
            </botMessages>
            <type>Message</type>
        </botSteps>
        <botSteps>
            <type>Wait</type>
        </botSteps>
        <developerName>Maker</developerName>
        <label>About</label>
        <showInFooterMenu>false</showInFooterMenu>
    </botDialogs>
    <botDialogs>
        <botDialogGroup>Contact_Setting</botDialogGroup>
        <botSteps>
            <botSteps>
                <botVariableOperation>
                    <botVariableOperands>
                        <targetName>strFirstName</targetName>
                        <targetType>ConversationVariable</targetType>
                    </botVariableOperands>
                    <type>Unset</type>
                </botVariableOperation>
                <type>VariableOperation</type>
            </botSteps>
            <botSteps>
                <botVariableOperation>
                    <botVariableOperands>
                        <targetName>strLastName</targetName>
                        <targetType>ConversationVariable</targetType>
                    </botVariableOperands>
                    <type>Unset</type>
                </botVariableOperation>
                <type>VariableOperation</type>
            </botSteps>
            <botSteps>
                <botVariableOperation>
                    <botVariableOperands>
                        <targetName>strResponse</targetName>
                        <targetType>ConversationVariable</targetType>
                    </botVariableOperands>
                    <type>Unset</type>
                </botVariableOperation>
                <type>VariableOperation</type>
            </botSteps>
            <type>Group</type>
        </botSteps>
        <botSteps>
            <botVariableOperation>
                <botMessages>
                    <message>Hi there! I&#39;m Penny, your digital engagement Einstein Bot! Before we get started, let me get some basic info. 
Can you please tell me your FIRST NAME?</message>
                </botMessages>
                <botVariableOperands>
                    <disableAutoFill>true</disableAutoFill>
                    <sourceName>_Text</sourceName>
                    <sourceType>StandardMlSlotClass</sourceType>
                    <targetName>strFirstName</targetName>
                    <targetType>ConversationVariable</targetType>
                </botVariableOperands>
                <quickReplyWidgetType>Buttons</quickReplyWidgetType>
                <type>Collect</type>
            </botVariableOperation>
            <type>VariableOperation</type>
        </botSteps>
        <botSteps>
            <botVariableOperation>
                <botMessages>
                    <message>Nice to meet you, {!strFirstName}!
What is your LAST NAME?</message>
                </botMessages>
                <botVariableOperands>
                    <disableAutoFill>true</disableAutoFill>
                    <sourceName>_Text</sourceName>
                    <sourceType>StandardMlSlotClass</sourceType>
                    <targetName>strLastName</targetName>
                    <targetType>ConversationVariable</targetType>
                </botVariableOperands>
                <quickReplyWidgetType>Buttons</quickReplyWidgetType>
                <type>Collect</type>
            </botVariableOperation>
            <type>VariableOperation</type>
        </botSteps>
        <botSteps>
            <botVariableOperation>
                <botInvocation>
                    <invocationActionName>Penny_UpdateContact</invocationActionName>
                    <invocationActionType>apex</invocationActionType>
                    <invocationMappings>
                        <parameterName>objContact</parameterName>
                        <type>Input</type>
                        <variableName>Contact</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>strBotName</parameterName>
                        <type>Input</type>
                        <value>Penny</value>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>strFirstName</parameterName>
                        <type>Input</type>
                        <variableName>strFirstName</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>strLastName</parameterName>
                        <type>Input</type>
                        <variableName>strLastName</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>objContact</parameterName>
                        <type>Output</type>
                        <variableName>Contact</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>strResponse</parameterName>
                        <type>Output</type>
                        <variableName>strResponse</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                </botInvocation>
                <type>Set</type>
            </botVariableOperation>
            <type>VariableOperation</type>
        </botSteps>
        <botSteps>
            <botMessages>
                <message>Perfect, thanks {!Contact.FirstName}. You&#39;re all set!
{!strResponse}</message>
            </botMessages>
            <type>Message</type>
        </botSteps>
        <botSteps>
            <type>Wait</type>
        </botSteps>
        <developerName>New_Contact</developerName>
        <label>Update Profile</label>
        <showInFooterMenu>false</showInFooterMenu>
    </botDialogs>
    <botDialogs>
        <botSteps>
            <botSteps>
                <botVariableOperation>
                    <botVariableOperands>
                        <targetName>engagementNumber</targetName>
                        <targetType>ConversationVariable</targetType>
                    </botVariableOperands>
                    <type>Unset</type>
                </botVariableOperation>
                <type>VariableOperation</type>
            </botSteps>
            <botSteps>
                <botVariableOperation>
                    <botVariableOperands>
                        <targetName>Last_Utterance</targetName>
                        <targetType>ConversationVariable</targetType>
                    </botVariableOperands>
                    <type>Unset</type>
                </botVariableOperation>
                <type>VariableOperation</type>
            </botSteps>
            <botSteps>
                <botVariableOperation>
                    <botVariableOperands>
                        <targetName>strTransfer</targetName>
                        <targetType>ConversationVariable</targetType>
                    </botVariableOperands>
                    <type>Unset</type>
                </botVariableOperation>
                <type>VariableOperation</type>
            </botSteps>
            <type>Group</type>
        </botSteps>
        <botSteps>
            <botVariableOperation>
                <botInvocation>
                    <invocationActionName>Get_Utterance</invocationActionName>
                    <invocationActionType>flow</invocationActionType>
                    <invocationMappings>
                        <parameterName>inUtterance</parameterName>
                        <type>Input</type>
                        <variableName>_LastCustomerInput</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>outUtterance</parameterName>
                        <type>Output</type>
                        <variableName>Last_Utterance</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                </botInvocation>
                <type>Set</type>
            </botVariableOperation>
            <type>VariableOperation</type>
        </botSteps>
        <botSteps>
            <botVariableOperation>
                <botMessages>
                    <message>{!strResponse}</message>
                </botMessages>
                <botVariableOperands>
                    <disableAutoFill>true</disableAutoFill>
                    <sourceName>_Number</sourceName>
                    <sourceType>StandardMlSlotClass</sourceType>
                    <targetName>engagementNumber</targetName>
                    <targetType>ConversationVariable</targetType>
                </botVariableOperands>
                <quickReplyWidgetType>Buttons</quickReplyWidgetType>
                <type>Collect</type>
            </botVariableOperation>
            <type>VariableOperation</type>
        </botSteps>
        <botSteps>
            <botVariableOperation>
                <botInvocation>
                    <invocationActionName>Penny_ProcessMultiEngage</invocationActionName>
                    <invocationActionType>apex</invocationActionType>
                    <invocationMappings>
                        <parameterName>dbEngagementNum</parameterName>
                        <type>Input</type>
                        <variableName>engagementNumber</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>objContact</parameterName>
                        <type>Input</type>
                        <variableName>Contact</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>QRecordTypeID</parameterName>
                        <type>Input</type>
                        <value>0122E000000xlXcQAI</value>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>strBotName</parameterName>
                        <type>Input</type>
                        <value>Penny</value>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>strUtterance</parameterName>
                        <type>Input</type>
                        <variableName>Last_Utterance</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>strResponse</parameterName>
                        <type>Output</type>
                        <variableName>strResponse</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                    <invocationMappings>
                        <parameterName>transfer</parameterName>
                        <type>Output</type>
                        <variableName>strTransfer</variableName>
                        <variableType>ConversationVariable</variableType>
                    </invocationMappings>
                </botInvocation>
                <type>Set</type>
            </botVariableOperation>
            <type>VariableOperation</type>
        </botSteps>
        <botSteps>
            <botMessages>
                <message>{!strResponse}</message>
            </botMessages>
            <type>Message</type>
        </botSteps>
        <botSteps>
            <botStepConditions>
                <leftOperandName>strTransfer</leftOperandName>
                <leftOperandType>ConversationVariable</leftOperandType>
                <operatorType>Equals</operatorType>
                <rightOperandValue>1</rightOperandValue>
            </botStepConditions>
            <botSteps>
                <botNavigation>
                    <botNavigationLinks>
                        <targetBotDialog>Transfer_To_Agent</targetBotDialog>
                    </botNavigationLinks>
                    <type>Redirect</type>
                </botNavigation>
                <type>Navigation</type>
            </botSteps>
            <type>Group</type>
        </botSteps>
        <botSteps>
            <type>Wait</type>
        </botSteps>
        <developerName>Process_Multi_Engagement</developerName>
        <label>Process Multi Engagement</label>
        <showInFooterMenu>false</showInFooterMenu>
    </botDialogs>
    <conversationVariables>
        <dataType>Object</dataType>
        <developerName>Contact</developerName>
        <label>Contact</label>
    </conversationVariables>
    <conversationVariables>
        <dataType>Boolean</dataType>
        <developerName>ContactCreated</developerName>
        <label>ContactCreated</label>
    </conversationVariables>
    <conversationVariables>
        <dataType>Number</dataType>
        <developerName>engagementNumber</developerName>
        <label>engagementNumber</label>
    </conversationVariables>
    <conversationVariables>
        <dataType>Text</dataType>
        <developerName>Last_Utterance</developerName>
        <label>Last Utterance</label>
    </conversationVariables>
    <conversationVariables>
        <dataType>Text</dataType>
        <developerName>LiveAgentSessionId</developerName>
        <label>LiveAgentSessionId</label>
    </conversationVariables>
    <conversationVariables>
        <dataType>Boolean</dataType>
        <developerName>multiEngagement</developerName>
        <label>multiEngagement</label>
    </conversationVariables>
    <conversationVariables>
        <dataType>Text</dataType>
        <developerName>strError</developerName>
        <label>strError</label>
    </conversationVariables>
    <conversationVariables>
        <dataType>Text</dataType>
        <developerName>strFirstName</developerName>
        <label>strFirstName</label>
    </conversationVariables>
    <conversationVariables>
        <dataType>Text</dataType>
        <developerName>strLastName</developerName>
        <label>strLastName</label>
    </conversationVariables>
    <conversationVariables>
        <dataType>Text</dataType>
        <developerName>strResponse</developerName>
        <label>strResponse</label>
    </conversationVariables>
    <conversationVariables>
        <dataType>Text</dataType>
        <developerName>strTransfer</developerName>
        <label>strTransfer</label>
    </conversationVariables>
    <conversationVariables>
        <dataType>Text</dataType>
        <developerName>YesNo</developerName>
        <label>YesNo</label>
    </conversationVariables>
    <entryDialog>Welcome</entryDialog>
    <mainMenuDialog>Main_Menu</mainMenuDialog>
    <responseDelayMilliseconds>0</responseDelayMilliseconds>
</BotVersion>
